{"chunks": [
    {"id":"agent-sop-initiate-return","audience":"agent","doc_type":"sop","product_id":null,"category":null,"title":"initiate_return Tool - Standard Operating Procedure","tags":["agent","returns","sop","initiate_return"],"content":"PROCEDURE: initiate_return Tool Usage\n\nSTEP 1: Verify Order Details\n- ALWAYS call order_status first to retrieve full order information\n- Review all items in the order and their quantities\n- Note the order total for comparison\n\nSTEP 2: Determine Return Scope\nIf customer mentions specific items AND order has multiple items:\n  - Ask: 'Which specific item(s) would you like to return?'\n  - Ask: 'How many units of each item?' (if order contains quantities > 1)\n  - Document customer's specific product choices\n  - REQUIRED: Use product_ids and quantities parameters\n  - Example: product_ids=[2, 5], quantities=[1, 2]\n\nIf customer wants to return entire order:\n  - Confirm: 'Just to confirm, you want to return all items from this order?'\n  - Do NOT specify product_ids or quantities parameters\n  - Let the system default to full order return\n\nSTEP 3: Call initiate_return\nPartial return syntax:\n  initiate_return(\n    order_id=123,\n    return_reason='customer explanation',\n    product_ids=[1, 3],\n    quantities=[2, 1]\n  )\n\nFull return syntax:\n  initiate_return(\n    order_id=123,\n    return_reason='customer explanation'\n  )\n\nCRITICAL RULES:\n- NEVER omit product_ids when customer wants partial return - this refunds ENTIRE order\n- ALWAYS match array lengths: len(product_ids) == len(quantities)\n- ALWAYS verify product_ids exist in the order before calling\n- Refund amount is calculated automatically based on items returned\n- Each product_id creates a separate return record in the database\n\nSTEP 4: Confirm with Customer\n- State which items are being returned\n- Provide the refund amount from the tool response\n- Explain next steps (inspection, processing time, etc.)"},
    {"id":"agent-sop-draft-order","audience":"agent","doc_type":"sop","product_id":null,"category":null,"title":"draft_order Tool - Standard Operating Procedure","tags":["agent","orders","sop","draft_order"],"content":"PROCEDURE: draft_order Tool Usage\n\nPURPOSE:\nThe draft_order tool validates order information BEFORE creating an actual order. Use this to identify missing information and avoid incomplete order submissions.\n\nSTEP 1: When to Use\n- Customer expresses intent to place an order\n- Customer mentions wanting to buy products\n- Before EVERY create_order call\n\nSTEP 2: Gather Information Progressively\n- Call draft_order with whatever information you have so far\n- Pass all known fields, use null/empty for unknown fields\n- Review the response for missing_fields array\n\nSTEP 3: Request Missing Information\n- Ask for missing items naturally in conversation\n- Do NOT use forms or structured lists\n- Example: 'I'll need your shipping address to complete this order. Where should we send it?'\n\nSTEP 4: Iterate Until Complete\n- Call draft_order again after collecting more information\n- Continue until ready_to_order = true\n\nSTEP 5: Validate Product Information\n- draft_order checks product availability and inventory\n- draft_order calculates total cost and weight\n- Review the order_summary provided\n\nSTEP 6: Only Then Create Order\n- When ready_to_order = true, call create_order with complete information\n- Use exact same parameters validated by draft_order\n\nCRITICAL RULES:\n- NEVER call create_order without successful draft_order first\n- NEVER proceed if draft_order shows inventory issues\n- ALWAYS pass product_ids and quantities as arrays of same length\n- Product IDs must be integers from the catalog"},
    {"id":"agent-sop-create-order","audience":"agent","doc_type":"sop","product_id":null,"category":null,"title":"create_order Tool - Standard Operating Procedure","tags":["agent","orders","sop","create_order"],"content":"PROCEDURE: create_order Tool Usage\n\nPREREQUISITES:\n- draft_order has been called and returned ready_to_order = true\n- All required information has been collected and validated\n- Customer has confirmed they want to proceed\n\nREQUIRED PARAMETERS:\n- customer_name: Full name as string\n- customer_email: Valid email address\n- customer_phone: Phone number with country code if applicable\n- shipping_address: Complete address (street, city, state, ZIP)\n- product_ids: Array of integer product IDs (e.g., [1, 2, 3])\n- quantities: Array of integers matching product_ids length (e.g., [2, 1, 1])\n\nSTEP 1: Final Confirmation\n- Summarize the order for the customer\n- State total cost from draft_order\n- Confirm shipping address\n- Get explicit confirmation to proceed\n\nSTEP 2: Call create_order\n- Use exact parameters validated by draft_order\n- All arrays must match in length\n- All required fields must be present\n\nSTEP 3: Handle Response\nSuccess:\n  - Note the order_id from response\n  - Provide order_id to customer immediately\n  - Explain next steps (processing, shipping estimate)\n  \nFailure:\n  - If inventory error: product sold out since draft, offer alternatives\n  - If validation error: review parameters and retry\n  - If system error: create support ticket\n\nCRITICAL RULES:\n- This action is IRREVERSIBLE - inventory is deducted immediately\n- NEVER call twice for same order (check for existing order_id)\n- ALWAYS provide order_id to customer for their records\n- Order cannot be modified after creation - only cancelled/returned"},
    {"id":"agent-sop-order-status","audience":"agent","doc_type":"sop","product_id":null,"category":null,"title":"order_status Tool - Standard Operating Procedure","tags":["agent","orders","sop","order_status"],"content":"PROCEDURE: order_status Tool Usage\n\nPURPOSE:\nRetrieve complete information about an existing order including status, items, and amounts.\n\nWHEN TO USE:\n- Customer asks about their order\n- Before processing returns (to see what items were ordered)\n- Before answering questions about order contents\n- To verify order exists before other operations\n\nPARAMETERS:\n- order_id: Integer order ID (required)\n\nSTEP 1: Obtain Order ID\n- Ask customer for order number if not provided\n- Order IDs are integers (e.g., 123, 456)\n- Validate it's a number before calling\n\nSTEP 2: Call order_status\n- Pass order_id as integer\n- Tool returns complete order object with items array\n\nSTEP 3: Review Response\nSuccess response contains:\n  - order_id, status, customer details\n  - items: array of products with quantities and prices\n  - total_amount: order total\n  - created_at, updated_at: timestamps\n\nSTEP 4: Provide Information\n- Translate status codes to customer-friendly language\n- Summarize items clearly\n- Provide relevant dates\n\nSTATUS CODES:\n- pending: Order received, being processed\n- processing: Being prepared for shipment\n- shipped: On its way to customer\n- delivered: Successfully delivered\n- cancelled: Order was cancelled\n\nCRITICAL RULES:\n- ALWAYS check order status before initiating returns\n- Use the items array to identify specific products in the order\n- Prices shown are at time of purchase, not current prices"},
    {"id":"agent-sop-product-catalog","audience":"agent","doc_type":"sop","product_id":null,"category":null,"title":"product_catalog Tool - Standard Operating Procedure","tags":["agent","products","sop","product_catalog"],"content":"PROCEDURE: product_catalog Tool Usage\n\nPURPOSE:\nSearch and browse available products by category or search terms.\n\nOPTIONAL PARAMETERS:\n- category: Filter by category (electronics, headphones, cameras, keyboards, speakers, monitors, accessories)\n- search_query: Search in product names and descriptions\n\nSTEP 1: Determine Search Strategy\nCustomer browses category:\n  - Use category parameter\n  - Example: category='headphones'\n\nCustomer searches for specific item:\n  - Use search_query parameter\n  - Example: search_query='wireless keyboard'\n\nCustomer wants everything:\n  - Call with no parameters to get full catalog\n\nSTEP 2: Call product_catalog\n- Can use category and search_query together for refined results\n- Returns array of product objects\n\nSTEP 3: Present Results\n- Show product names, prices, and brief descriptions\n- Note stock availability\n- Provide product IDs for ordering\n- Offer to narrow down if many results\n\nPRODUCT OBJECT CONTAINS:\n- id: Product ID (use for orders)\n- name: Product name\n- price: Current price\n- description: Product details\n- category: Product category\n- stock_quantity: Available inventory\n\nCRITICAL RULES:\n- Stock quantity shown is current availability\n- Prices may change between browsing and ordering\n- Product IDs are required for draft_order and create_order\n- If stock_quantity = 0, product is out of stock"},
    {"id":"agent-sop-estimate-shipping","audience":"agent","doc_type":"sop","product_id":null,"category":null,"title":"estimate_shipping Tool - Standard Operating Procedure","tags":["agent","shipping","sop","estimate_shipping"],"content":"PROCEDURE: estimate_shipping Tool Usage\n\nPURPOSE:\nProvide shipping cost estimates for different service levels based on destination and weight.\n\nREQUIRED PARAMETERS:\n- destination_zip: ZIP/postal code as string (e.g., '10001')\n- weight: Package weight in pounds as number\n\nSTEP 1: Gather Information\n- Ask for destination ZIP code if not provided\n- Weight is usually available from draft_order's total_weight\n- For manual estimates, ask customer for approximate weight\n\nSTEP 2: Call estimate_shipping\n- Pass ZIP as string (preserve leading zeros)\n- Pass weight as float or integer\n- Tool returns ALL available service levels for that ZIP\n\nSTEP 3: Present Options\nResponse includes array of estimates with:\n  - carrier: Shipping carrier name\n  - service_type: Service level (standard, express, overnight)\n  - estimated_cost: Total shipping cost\n  - estimated_days: Delivery time estimate\n\nPresent as options:\n  'Here are the shipping options to [ZIP]:\n   - [Carrier] [Service]: $[cost] ([days] days)\n   - [Carrier] [Service]: $[cost] ([days] days)'\n\nSTEP 4: Handle No Results\n- If tool returns no estimates, ZIP may not be serviceable\n- Suggest customer verify ZIP code\n- Offer to create support ticket for special shipping arrangements\n\nCRITICAL RULES:\n- Shipping costs are estimates, final cost determined at fulfillment\n- Delivery times are estimates, not guarantees\n- Weight significantly affects cost\n- Some ZIPs may have limited service options"}
]}